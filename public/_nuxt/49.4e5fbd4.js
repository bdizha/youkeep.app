(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{564:function(e,t,o){"use strict";o.r(t);o(57);var r={props:{store:{type:Object,required:!1},hasTitle:{type:Boolean,required:!1,default:!1}},data:function(){return{formDelivery:this.$form.createForm(this,{name:"form_delivery"}),addresses:[],search:null,hasData:!1,isLoggedIn:!1,modal:{current:null,isVisible:!1}}},mounted:function(){},methods:{onSelect:function(address){var e=this;console.log("selecting address: ",address);var path="/locations/address";console.log("auto completing address search >>>> "+path);var t=this;t.isLoggedIn=t.$store.state.isLoggedIn,axios.post(path,{data:address}).then((function(o){console.log(o.data);var address=o.data.address;t.$store.commit("onAddress",address),t.isLoggedIn||(t.modal.isVisible=!0,t.modal.current="login",t.$store.commit("onModal",e.modal)),console.log("set address >> after")})).catch((function(e){console.log(e)}))},onKeyPress:function(e){console.log("typing address: ",e)},onSearch:function(e){this.search=e;var path="/locations/"+this.search;console.log("auto completing address search >>>> "+path);var t=this;axios.get(path,{}).then((function(e){console.log("setting addresses >> before"),console.log(e.data),t.addresses=e.data.addresses,t.hasData=!0,console.log("setting addresses >> after")})).catch((function(e){console.log(e)}))},handleError:function(){}}},n=o(4),component=Object(n.a)(r,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"r-delivery"},[o("a-form",{staticClass:"ant-form ant-form-vertical",attrs:{form:e.formDelivery}},[e.hasTitle?o("a-form-item",[o("a-row",{attrs:{type:"flex",justify:"center"}},[o("a-col",{staticClass:"gutter-row r-text-left",attrs:{xs:{span:24}}},[o("h2",{staticClass:"r-heading"},[o("span",[e._v("Enter delivery address")])])])],1)],1):e._e(),e._v(" "),o("a-form-item",[o("a-auto-complete",{staticStyle:{width:"100%"},attrs:{dropdownClassName:"certain-category-search-dropdown",dropdownMatchSelectWidth:!1,dropdownStyle:{width:"100%"},size:"large",placeholder:"Enter your delivery address",optionLabelProp:"value"},on:{select:e.onSelect,search:e.onSearch}},[o("template",{slot:"dataSource"},e._l(e.addresses,(function(address,t){return o("a-select-option",{key:address.description+t,attrs:{value:address.main_text},on:{click:function(t){return e.onSelect(address,t)}}},[o("div",{staticClass:"r-address-line"},[o("div",{staticClass:"r-address-icon"},[o("a-icon",{attrs:{type:"environment"}})],1),e._v(" "),o("div",{staticClass:"r-address-content"},[o("div",{staticClass:"r-address-main"},[e._v("\n                                    "+e._s(address.main_text)+"\n                                ")]),e._v(" "),o("div",{staticClass:"r-address-secondary"},[e._v("\n                                    "+e._s(address.secondary_text)+"\n                                ")])])])])})),1),e._v(" "),o("a-input",{attrs:{size:"large"},on:{keypress:e.onKeyPress}},[o("a-icon",{attrs:{slot:"prefix",type:"environment"},slot:"prefix"}),e._v(" "),o("a-button",{staticClass:"r-search-btn",staticStyle:{"margin-right":"-12px"},attrs:{slot:"suffix",size:"large",type:"primary"},slot:"suffix"},[e._v("\n                        Let's go\n                    ")])],1)],2)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);